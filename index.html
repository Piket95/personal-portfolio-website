<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dennis Adam - Portfolio</title>
    <meta name="description" content="Dennis Adam - Portfolio">
    <meta name="keywords" content="Dennis Adam, Portfolio, Web Developer">
    <meta name="author" content="Dennis Adam">
    <meta name="robots" content="index, follow">
    <meta name="theme-color" content="#1e1e1e">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="referrer" content="no-referrer">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="https://cdn.dennisadam.de/favicon.ico">

	
    <!-- Google Fonts -->
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">

    <!-- Font Awesome -->
    <link href="/assets/fontawesome/css/fontawesome.css" rel="stylesheet" />
    <link href="/assets/fontawesome/css/brands.css" rel="stylesheet" />
    <link href="/assets/fontawesome/css/solid.css" rel="stylesheet" />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="index.css">

    <!-- Custom JS -->
    <script src="scripts/careerTypeWriter.js"></script>
</head>
<body>
    <nav>
        <div id="title" class="passEvents">
            <div style="display: flex; align-items: center; justify-content: center;">
                <img id="logo" src="https://cdn.dennisadam.de/icons/generated-image%20%281%29.png" alt="Dennis Adam" style="margin-right: 1rem;">
                <p style="margin: 0;">Dennis Adam</p>
            </div>
        </div>
        <ul>
            <li><a href="#home" class="active">Home</a></li>
            <li><a href="#about">About Me</a></li>
            <li><a href="#skills">Skills</a></li>
            <li><a href="#projects">Projects</a></li>
            <li><a href="#contact">Contact</a></li>
        </ul>
    </nav>

    <div id="flare-background" class="background flare-background" style="background-color: rgba(30, 30, 30);"></div>
    <video autoplay muted loop disablePictureInPicture id="background-video" width="100%" height="100%" class="background">
        <source id="background-video-src" src="" type="video/mp4">
    </video>

    <main>
        <div class="scroller">
            <section id="home">
                <div id="home-content">
                    <div id="diagonal-line">
                        <div id="line"></div>
                    </div>
                    <div id="i-am">
                        <p>Hey! I'm a</p>
                        <p class="typewriter green-text"></p>
                    </div>
                </div>
                <div id="arrow">
                    <i class="fa-solid fa-arrow-down" style="font-size: 2rem; color: #818181; padding-top: 4rem;"></i>
                </div>
            </section>
        
            <section id="about">
                <div id="profile-image-container">
                    <img src="https://img.pr0gramm.com/2023/10/17/4b0bb7460b7e495b.jpg" alt="Dennis Adam">
                </div>
                <div>
                    <h2>About Me</h2>
                    <p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.</p>
                </div>
            </section>
        
            <section id="skills">
                <h2 style="text-align: center;">Skills</h2>
                <div style="display: flex; flex-direction: column; align-items: center; justify-content: center;">
                    <table id="table-skills">
                        <tr>
                            <td>
                                <i class="fa-brands fa-html5"></i> HTML
                                <div style="display: flex; align-items: center; width: 100%;">
                                    <div id="pgbs-html" style="display: flex; width: 100%;">
                                        <div class="progress-bar" style="background-color: rgb(60, 60, 60);"></div>
                                        <div class="progress-bar" style="background-color: rgb(60, 60, 60);"></div>
                                        <div class="progress-bar" style="background-color: rgb(60, 60, 60);"></div>
                                        <div class="progress-bar" style="background-color: rgb(60, 60, 60);"></div>
                                        <div class="progress-bar" style="background-color: rgb(60, 60, 60);"></div>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <i class="fa-brands fa-css3-alt"></i> CSS
                                <div style="display: flex; align-items: center; width: 100%;">
                                    <div id="pgbs-css" style="display: flex; width: 100%;">
                                        <div class="progress-bar" style="background-color: rgb(60, 60, 60);"></div>
                                        <div class="progress-bar" style="background-color: rgb(60, 60, 60);"></div>
                                        <div class="progress-bar" style="background-color: rgb(60, 60, 60);"></div>
                                        <div class="progress-bar" style="background-color: rgb(60, 60, 60);"></div>
                                        <div class="progress-bar" style="background-color: rgb(60, 60, 60);"></div>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <i class="fa-brands fa-js"></i> JavaScript
                                <div style="display: flex; align-items: center; width: 100%;">
                                    <div id="pgbs-js" style="display: flex; width: 100%;">
                                        <div class="progress-bar" style="background-color: rgb(60, 60, 60);"></div>
                                        <div class="progress-bar" style="background-color: rgb(60, 60, 60);"></div>
                                        <div class="progress-bar" style="background-color: rgb(60, 60, 60);"></div>
                                        <div class="progress-bar" style="background-color: rgb(60, 60, 60);"></div>
                                        <div class="progress-bar" style="background-color: rgb(60, 60, 60);"></div>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <i class="fa-brands fa-php"></i> PHP
                                <div style="display: flex; align-items: center; width: 100%;">
                                    <div id="pgbs-php" style="display: flex; width: 100%;">
                                        <div class="progress-bar" style="background-color: rgb(60, 60, 60);"></div>
                                        <div class="progress-bar" style="background-color: rgb(60, 60, 60);"></div>
                                        <div class="progress-bar" style="background-color: rgb(60, 60, 60);"></div>
                                        <div class="progress-bar" style="background-color: rgb(60, 60, 60);"></div>
                                        <div class="progress-bar" style="background-color: rgb(60, 60, 60);"></div>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <i class="fa-brands fa-laravel"></i> Laravel
                                <div style="display: flex; align-items: center; width: 100%;">
                                    <div id="pgbs-laravel" style="display: flex; width: 100%;">
                                        <div class="progress-bar" style="background-color: rgb(60, 60, 60);"></div>
                                        <div class="progress-bar" style="background-color: rgb(60, 60, 60);"></div>
                                        <div class="progress-bar" style="background-color: rgb(60, 60, 60);"></div>
                                        <div class="progress-bar" style="background-color: rgb(60, 60, 60);"></div>
                                        <div class="progress-bar" style="background-color: rgb(60, 60, 60);"></div>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <i class="fa-brands fa-vuejs"></i> VueJS
                                <div style="display: flex; align-items: center; width: 100%;">
                                    <div id="pgbs-vuejs" style="display: flex; width: 100%;">
                                        <div class="progress-bar" style="background-color: rgb(60, 60, 60);"></div>
                                        <div class="progress-bar" style="background-color: rgb(60, 60, 60);"></div>
                                        <div class="progress-bar" style="background-color: rgb(60, 60, 60);"></div>
                                        <div class="progress-bar" style="background-color: rgb(60, 60, 60);"></div>
                                        <div class="progress-bar" style="background-color: rgb(60, 60, 60);"></div>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <i class="fa-solid fa-database"></i> SQL
                                <div style="display: flex; align-items: center; width: 100%;">
                                    <div id="pgbs-sql" style="display: flex; width: 100%;">
                                        <div class="progress-bar" style="background-color: rgb(60, 60, 60);"></div>
                                        <div class="progress-bar" style="background-color: rgb(60, 60, 60);"></div>
                                        <div class="progress-bar" style="background-color: rgb(60, 60, 60);"></div>
                                        <div class="progress-bar" style="background-color: rgb(60, 60, 60);"></div>
                                        <div class="progress-bar" style="background-color: rgb(60, 60, 60);"></div>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <i class="fa-brands fa-git-alt"></i> Git
                                <div style="display: flex; align-items: center; width: 100%;">
                                    <div id="pgbs-git" style="display: flex; width: 100%;">
                                        <div class="progress-bar" style="background-color: rgb(60, 60, 60);"></div>
                                        <div class="progress-bar" style="background-color: rgb(60, 60, 60);"></div>
                                        <div class="progress-bar" style="background-color: rgb(60, 60, 60);"></div>
                                        <div class="progress-bar" style="background-color: rgb(60, 60, 60);"></div>
                                        <div class="progress-bar" style="background-color: rgb(60, 60, 60);"></div>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <i class="fa-solid fa-terminal"></i> Bash
                                <div style="display: flex; align-items: center; width: 100%;">
                                    <div id="pgbs-bash" style="display: flex; width: 100%;">
                                        <div class="progress-bar" style="background-color: rgb(60, 60, 60);"></div>
                                        <div class="progress-bar" style="background-color: rgb(60, 60, 60);"></div>
                                        <div class="progress-bar" style="background-color: rgb(60, 60, 60);"></div>
                                        <div class="progress-bar" style="background-color: rgb(60, 60, 60);"></div>
                                        <div class="progress-bar" style="background-color: rgb(60, 60, 60);"></div>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <i class="fa-brands fa-docker"></i> Docker
                                <div style="display: flex; align-items: center; width: 100%;">
                                    <div id="pgbs-docker" style="display: flex; width: 100%;">
                                        <div class="progress-bar" style="background-color: rgb(60, 60, 60);"></div>
                                        <div class="progress-bar" style="background-color: rgb(60, 60, 60);"></div>
                                        <div class="progress-bar" style="background-color: rgb(60, 60, 60);"></div>
                                        <div class="progress-bar" style="background-color: rgb(60, 60, 60);"></div>
                                        <div class="progress-bar" style="background-color: rgb(60, 60, 60);"></div>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <i class="fa-brands fa-python"></i> Python
                                <div style="display: flex; align-items: center; width: 100%;">
                                    <div id="pgbs-python" style="display: flex; width: 100%;">
                                        <div class="progress-bar" style="background-color: rgb(60, 60, 60);"></div>
                                        <div class="progress-bar" style="background-color: rgb(60, 60, 60);"></div>
                                        <div class="progress-bar" style="background-color: rgb(60, 60, 60);"></div>
                                        <div class="progress-bar" style="background-color: rgb(60, 60, 60);"></div>
                                        <div class="progress-bar" style="background-color: rgb(60, 60, 60);"></div>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <i class="fa-brands fa-linux"></i> Linux
                                <div style="display: flex; align-items: center; width: 100%;">
                                    <div id="pgbs-linux" style="display: flex; width: 100%;">
                                        <div class="progress-bar" style="background-color: rgb(60, 60, 60);"></div>
                                        <div class="progress-bar" style="background-color: rgb(60, 60, 60);"></div>
                                        <div class="progress-bar" style="background-color: rgb(60, 60, 60);"></div>
                                        <div class="progress-bar" style="background-color: rgb(60, 60, 60);"></div>
                                        <div class="progress-bar" style="background-color: rgb(60, 60, 60);"></div>
                                    </div>
                                </div>
                            </td>
                        </tr>
                    </table>
                </div>
            </section>
        
            <section id="projects">
                <h2>Projects</h2>
                <p>This is where you'd showcase your projects.</p>
            </section>
        
            <section id="contact">
                <h2>Contact</h2>
                <p>This is where you'd put your contact information.</p>
            </section>
        </div>
    </main>

    <script>
        const sectionsArr = Array.from(document.querySelectorAll('section'));
        const title = document.getElementById('title');
        const logo = document.getElementById('logo');
        const backgroundFlare = document.getElementById('flare-background');
        const backgroundVideoSrc = document.getElementById('background-video-src');
        const skillProgressBars = document.querySelectorAll('div[id^="pgbs-"]');

        const fadeGradients = {
            'home': 'radial-gradient(ellipse at bottom right, rgba(0,0,0,0) 0%, rgba(30,30,30,0.5) 70%, rgba(30,30,30,1) 78%), radial-gradient(ellipse at top left, rgba(0,0,0,0) 0%, rgba(30,30,30,0.5) 70%, rgba(30,30,30,1) 78%)',
            'about': 'radial-gradient(ellipse at bottom right, rgba(0,0,0,0) 0%, rgba(30,30,30,1) 50%)',
            'skills': 'radial-gradient(ellipse at top right, rgba(0,0,0,0) 0%, rgba(30,30,30,1) 50%)',
            'projects': 'radial-gradient(ellipse at top left, rgba(0,0,0,0) 0%, rgba(30,30,30,1) 50%)',
            'contact': 'radial-gradient(ellipse at bottom left, rgba(0,0,0,0) 0%, rgba(30,30,30,1) 50%)',
        };

        const skillsProgressBarsValues = {
            'html': 1,
            'css': 4,
            'js': 5,
            'php': 3,
            'laravel': 2,
            'vuejs': 2,
            'sql': 3,
            'git': 5,
            'bash': 4,
            'docker': 5,
            'python': 2,
            'linux': 5,
        };

        // skip to section for testing
        // document.querySelectorAll('nav a').forEach(link => {
        //     if (link.getAttribute('href') === '#skills') {
        //         link.click();
        //     }
        // });

        // set background video
        backgroundVideoSrc.src = "assets/2560 Aeon Fantasy 1108 Live Wallpaper_thf4.mp4";

        function moveTitle(sectionHome = false) {                
            if (sectionHome) {
                title.style.top = '15rem';
                title.style.left = '15rem';
                title.style.fontSize = '4rem';
                logo.style.width = '100px';
                logo.style.height = '100px';
            } else {
                title.style.top = '1rem';
                title.style.left = '5rem';
                title.style.fontSize = '1.25rem';
                logo.style.width = '35px';
                logo.style.height = '35px';
            }
        }

        function fillSkillProgressBars(reset = false) {
            skillProgressBars.forEach(progressBar => {
                if (reset) {
                    progressBar.children.forEach(progressBarChild => {
                        progressBarChild.style.backgroundColor = 'rgb(60, 60, 60)';
                    });
                } else {
                    let i = skillsProgressBarsValues[progressBar.id.slice('pgbs-'.length)];
                    let children = progressBar.children;
                    (function loop(j) {
                        if (j < i) {
                            children[j].style.backgroundColor = '#1b9c86';
                            setTimeout(loop.bind(null, j + 1), 100);
                        }
                    })(0);
                }
            });
        }

        // Intersection Observer für aktive Sektion
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    
                    // Update Navigation
                    document.querySelectorAll('nav a').forEach(link => {
                        link.classList.toggle('active', 
                            link.getAttribute('href') === `#${entry.target.id}`
                        );
                    });

                    // Update Hintergrund und Titel basierend auf der Sektion
                    if (entry.target.id === 'home') {
                        moveTitle(true);
                        backgroundFlare.style.backgroundImage = fadeGradients['home'];
                    } else {
                        moveTitle();
                        backgroundFlare.style.backgroundImage = fadeGradients[entry.target.id] || fadeGradients['home'];
                    }

                    // Update Progressbar basierend auf der Sektion
                    if (entry.target.id === 'skills') {
                        fillSkillProgressBars();
                    } else {
                        fillSkillProgressBars(true);
                    }

                    setTimeout(() => {
                        removeFlareBackgroundColor();
                    }, 500);
                }
            });
        }, {
            threshold: 0.5,
            rootMargin: '0px 0px -50% 0px'
        });

        // Observer für alle Sections aktivieren
        sectionsArr.forEach(section => {
            observer.observe(section);
        });

        function fillFlareBackgroundColor() {
            backgroundFlare.style.backgroundColor = 'rgba(30, 30, 30)';
        }

        function removeFlareBackgroundColor() {
            backgroundFlare.style.backgroundColor = 'transparent';
        }

        removeFlareBackgroundColor();

        document.addEventListener('DOMContentLoaded', () => {
            const navLinks = document.querySelectorAll('nav ul li a');
            let lastKnownScrollPosition = window.scrollY;
            let titleInNav = window.scrollY <= sectionsArr[1].offsetTop;


            const video = document.querySelector('video');
            if (video) {
                // Verhindere Pause durch Benutzer
                video.addEventListener('pause', function(e) {
                    e.preventDefault();
                    video.play();
                });
                
                // Starte das Video automatisch
                video.play().catch(e => console.log('Autoplay wurde verhindert:', e));
            }

            // add transition for font-size in title here to prevent animation on loading
            title.style.transition = 'top .5s, left .5s, font-size .5s';

            function smoothScroll(target) {
                const element = document.querySelector(target);

                element.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start',
                    inline: 'nearest'
                });
            }

            navLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    fillFlareBackgroundColor();
                    const target = link.getAttribute('href');
                    smoothScroll(target);
                    setActiveLink(link);
                });
            });

            window.addEventListener('mousewheel', (event) => {
                fillFlareBackgroundColor();
            });

            typeCareers(); // scripts/careerTypeWriter.js
        });
    </script>
</body>
</html>